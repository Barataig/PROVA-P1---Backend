üìù Prova P1 ‚Äì Entidade Category com Eventos de Dom√≠nio
Contexto

Este projeto implementa a entidade de dom√≠nio Category com funcionalidades t√≠picas de sistemas reais, seguindo princ√≠pios de Domain-Driven Design (DDD).

Objetivos principais:


Serializar e reconstruir objetos (to_dict / from_dict)

Implementar Eventos de Dom√≠nio com handlers
------------------------------------------------------------------------------------------------------------------------
Funcionalidades Implementadas ------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------
1Ô∏è‚É£ Entidade Category

Cria√ß√£o e valida√ß√£o de atributos (name, description)

Atualiza√ß√£o de atributos (update) com registro de evento CategoryUpdated

Ativa√ß√£o (activate) e desativa√ß√£o (deactivate) com eventos correspondentes

Serializa√ß√£o (to_dict) e reconstru√ß√£o (from_dict)
------------------------------------------------------------------------------------------------------------------------
2Ô∏è‚É£ Eventos de Dom√≠nio --------------------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------

Base abstrata DomainEvent

Eventos espec√≠ficos:

        CategoryCreated

        CategoryUpdated

        CategoryActivated

        CategoryDeactivated

Cada evento registra aggregate_id e timestamp

CategoryUpdated inclui os campos alterados
------------------------------------------------------------------------------------------------------------------------
3Ô∏è‚É£ Event Dispatcher e Handlers -----------------------------------------------------------------------------------------
------------------------------------------------------------------------------------------------------------------------
EventDispatcher registra e dispara eventos para handlers espec√≠ficos

Handlers implementados:

        handle_category_created

        handle_category_updated 

        handle_category_activated

        handle_category_deactivated

Ciclo de Vida e Exemplo de Uso
        from domain.category import Category
        from application.event_handlers import *

# Criar categoria
cat = Category(name="Eletr√¥nicos", description="Produtos de tecnologia")

# Registrar handlers
cat.register_handler(CategoryCreated, handle_category_created)
cat.register_handler(CategoryUpdated, handle_category_updated)
cat.register_handler(CategoryActivated, handle_category_activated)
cat.register_handler(CategoryDeactivated, handle_category_deactivated)

# Ciclo de vida
cat.update(name="Eletr√¥nicos e Gadgets", description="Tecnologia e acess√≥rios")
cat.deactivate()
cat.activate()

# Serializa√ß√£o
serialized = cat.to_dict()
reconstructed = Category.from_dict(serialized)
------------------------------------------------------------------------------------------------------------------------
Sa√≠da esperada (exemplo):

[HANDLER] Categoria criada com ID=... em ...
[HANDLER] Categoria ... atualizada em ... Campos: {...}
[HANDLER] Categoria ... foi desativada em ...
[HANDLER] Categoria ... foi ativada em ...
Categoria serializada: {...}
Categoria reconstru√≠da: {...}
------------------------------------------------------------------------------------------------------------------------

Resumo Te√≥rico ‚Äì Parte 2
------------------------------------------------------------------------------------------------------------------------
@staticmethod

M√©todo que n√£o depende da inst√¢ncia ou da classe

Ex.: _validate_name() para validar nomes de categorias
------------------------------------------------------------------------------------------------------------------------
Dataclasses

Reduz boilerplate para criar classes (__init__, __repr__, __eq__)

Ex.: Category foi implementada como @dataclass
------------------------------------------------------------------------------------------------------------------------
Eventos de Dom√≠nio

Representam mudan√ßas importantes no estado da entidade

Ex.: CategoryCreated, CategoryUpdated, CategoryActivated, CategoryDeactivated
------------------------------------------------------------------------------------------------------------------------
Decoradores

@classmethod usado em from_dict() para criar inst√¢ncia a partir de um dicion√°rio

@staticmethod usado em _validate_name() para valida√ß√£o sem depender da inst√¢ncia
------------------------------------------------------------------------------------------------------------------------
DDD (Domain-Driven Design)

Separa√ß√£o clara entre entidade (Category), eventos e handlers

Mant√©m ciclo de vida previs√≠vel e rastre√°vel

Facilita extensibilidade e organiza√ß√£o do c√≥digo
------------------------------------------------------------------------------------------------------------------------
Estrutura de Arquivos
‚îú‚îÄ‚îÄ domain/
‚îÇ   ‚îú‚îÄ‚îÄ category.py                         # Entidade Category com serializa√ß√£o e eventos
‚îÇ   ‚îú‚îÄ‚îÄ category_events.py                  # Eventos espec√≠ficos da Category
‚îÇ   ‚îî‚îÄ‚îÄ domain_event.py                     # Classe base DomainEvent
‚îú‚îÄ‚îÄ shared/
‚îÇ   ‚îî‚îÄ‚îÄ eventdispatcher.py                  # Dispatcher de eventos e registro de handlers
‚îú‚îÄ‚îÄ application/
‚îÇ   ‚îî‚îÄ‚îÄ event_handlers.py                   # Handlers de eventos (fun√ß√µes de callback)
‚îú‚îÄ‚îÄ main.py                                 # Script de teste: ciclo de vida + serializa√ß√£o + eventos
‚îî‚îÄ‚îÄ README.md                               # Este arquivo
------------------------------------------------------------------------------------------------------------------------
Como Executar

Certifique-se de ter Python ‚â•3.9

Executar o script principal:

python main.py

------------------------------------------------------------------------------------------------------------------------
Observar:

Eventos disparados e mensagens dos handlers

Categoria serializada e reconstru√≠da